!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(e,t){$(e).val(function(e,n){return t.words=n.toLowerCase().trim().split(/\s+/g),t.words.join(" ")});var n=0;$.each(g,function(e,r){for(var o in t.words)t.words[o]===r&&""!==r&&n++}),t.k_now=n,$(e+"-nkeys").text(n)}function o(e,t){p.on(document.querySelector(e),function(n){t.now=n.words,n.words>t.max?$(e+"-count").text("Alert: Too many words"):$(e+"-count").text(n.words)})}function i(){var e=0,t=0;$.each(h,function(n,r){e+=r.now,t+=r.k_now}),$("#totwords").text(e),$("#totkeywords").text(t)}function s(){$.get(v.p,function(e){v.p=e,$.get(v.s,function(e){v.s=e,function(){for(var e=1;function(e){var t=!1;return $.each(h,function(n,r){if(y.p.test(n)&&y.p.exec(n)[1]==e)return c(y.p.exec(n)[1]),t=!0,!1}),t}(e);e++)for(var t=1;function(e,t){var n=!1;return $.each(h,function(r,o){if(y.s.test(r)&&y.s.exec(r)[1]==e&&y.s.exec(r)[2]==t)return l(y.s.exec(r)[1],y.s.exec(r)[2]),n=!0,!1}),n}(e,t);t++);$("#button-p").click(function(){c()})}(),$.each(h,function(e,t){$(e).val(t.words.join(" "))}),$.each(m,function(e,t){$(e).val(t.src),$(e+"-alt").val(t.alt)}),$.each(g,function(e,t){$(e).val(t)}),$.each(g,function(e,t){$(e).focusout(function(){u(g,"keywords")})}),$.each(h,function(e,t){r(e,t),o(e,t),i(),$(e).focusout(function(){r(e,t),i()})})})})}function c(e){var t=void 0===e;if(void 0===e){var n=0;$.each(h,function(e,t){y.p.test(e)&&y.p.exec(e)[1]>n&&(n=y.p.exec(e)[1])}),e=++n}var a="#p"+e+"-h";n>9?alert("no more than 9 paragraph are allowed"):($("#button-p").before(ejs.render(v.p,{paragraph:e})),h[a]||(h[a]={max:8,now:0,k_now:0,words:[]}),m["#p"+e+"-img"]||(m["#p"+e+"-img"]={src:"",alt:""}),$(a).focusout(function(){r(a,h[a]),o(a,h[a]),i(),u(h,"inputs")}),$("#button-s-p"+e).click(function(){l(e)}),$("#p"+e+"-img").focusout(function(){m["#p"+e+"-img"].src=$("#p"+e+"-img").val(),u(m,"images")}),$("#p"+e+"-img-alt").focusout(function(){m["#p"+e+"-img"].alt=$("#p"+e+"-img-alt").val(),u(m,"images")})),t&&(l(e,1),l(e,2),l(e,3))}function l(e,t){if(void 0===t){var n=0;$.each(h,function(t,r){if(y.s.test(t)&&y.s.exec(t)[1]==e){if(!(y.s.exec(t)[2]>n))return!1;n=y.s.exec(t)[2]}}),t=++n}var a="#p"+e+"-s"+t;n>9?alert("no more than 9 setences per paragraph are allowed"):($("#button-s-p"+e).before(ejs.render(v.s,{paragraph:e,sentence:t})),h[a]||(h[a]={max:20,now:0,k_now:0,words:[]}),$(a).focusout(function(){r(a,h[a]),o(a,h[a]),i(),u(h,"inputs")}))}function u(e,t){localStorage.setItem("local","true"),$.each(e,function(e,n){if("object"===$.type(n))return u(n,""!==t?t+":"+e:e);""!==t?localStorage.setItem(t+":"+e,n):localStorage.setItem(e,n)})}function f(e,t){for(var n=0;n<localStorage.length;n++){var r=localStorage.key(n),o=r.split(":"),i=localStorage.getItem(r);switch(o[o.length-1]){case"max":case"now":case"k_now":i=Number(i);break;case"words":i=i.split(",")}o[0]==t&&(o.length>2?("object"!=$.type(e[o[1]])&&(e[o[1]]={}),e[o[1]][o[2]]=i):e[o[1]]=i)}}var p=e("countable"),d=e("clipboard"),h=(e("ejs"),{"#articleName":{max:8,now:0,k_now:0,words:[]},"#lead":{max:30,now:0,k_now:0,words:[]},"#p1-h":{max:8,now:0,k_now:0,words:[]},"#p1-s1":{max:20,now:0,k_now:0,words:[]},"#p1-s2":{max:20,now:0,k_now:0,words:[]},"#p1-s3":{max:20,now:0,k_now:0,words:[]}}),m={},g={"#wk1":"","#wk2":"","#wk3":"","#wk4":"","#wk5":"","#ak1":"","#ak2":"","#ak3":"","#ak4":"","#ak5":""},v={p:"parts/awt/paragraph.ejs",s:"parts/awt/sentence.ejs"},y={p:/#p(\d)-h/i,s:/#p(\d)-s(\d)/i,i:/#p(\d)-img/i};$(function(){"true"===localStorage.getItem("local")&&(f(h,"inputs"),f(m,"images"),f(g,"keywords")),s()});var w=new d(".clip");w.on("success",function(e){var t=e.trigger.innerHTML;e.trigger.innerHTML="Copied!",setTimeout(function(){e.clearSelection(),e.trigger.innerHTML=t},3e3)}),w.on("error",function(e){e.trigger.innerHTML=function(e){var t="cut"===e?"X":"C";return/iPhone|iPad/i.test(navigator.userAgent)?"No support :(":/Mac/i.test(navigator.userAgent)?"Press ⌘-"+t+" to "+e:"Press Ctrl-"+t+" to "+e}(e.action),e.clearSelection()}),$("#new-article").click(function(){0!==localStorage.length&&window.confirm("Are you sure you want to erase your article to start a new one ?")&&(localStorage.clear(),location.reload(!0))}),$("#preview").mouseover(function(){$("#clip").html(""),$.each(h,function(e,t){"#articleName"===e?$("#clip").append("<h1>"+t.words.join(" ")+"</h1>"):"#lead"==e&&$("#clip").append("<p>"+t.words.join(" ")+"</p>")});for(var e=1;function(e){var t=!1;return $.each(h,function(n,r){if(y.p.test(n)&&y.p.exec(n)[1]==e)return $("#clip").append("<h2>"+r.words.join(" ")+"</h2>"),t=!0,!1}),t}(e);e++)for(var t=1;function(e,t){var n=!1;return $.each(h,function(r,o){if(y.s.test(r)&&y.s.exec(r)[1]==e&&y.s.exec(r)[2]==t){var i="p"+e+"-prev";return 0===$("#"+i).length&&$("#clip").append("<p id='"+i+"'></p>"),a=o.words.join(" "),a=a.substring(0,1).toUpperCase()+a.substring(1),$("#"+i).text($("#"+i).text()+" "+a),n=!0,!1}}),n}(e,t);t++);$.each(m,function(e,t){$("#p"+y.i.exec(e)[1]+"-prev").after("<img src='"+t.src+"' alt='"+t.alt+"'/>")})}),$.each(g,function(e,t){$(e).focusout(function(){$(e).val(function(t,n){return g[e]=n.toLowerCase().replace(/[^a-zA-Z0-9]/g,""),g[e]})})})},{clipboard:4,countable:5,ejs:8}],2:[function(e,t,n){},{}],3:[function(e,t,n){!function(r,o){if("function"==typeof define&&define.amd)define(["module","select"],o);else if(void 0!==n)o(t,e("select"));else{var i={exports:{}};o(i,r.select),r.clipboardAction=i.exports}}(this,function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=i})},{select:15}],4:[function(e,t,n){!function(r,o){if("function"==typeof define&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if(void 0!==n)o(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var i={exports:{}};o(i,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=i.exports}}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var a=o(t),s=o(n),c=o(r),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),u(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return i("action",e)}},{key:"defaultTarget",value:function(e){var t=i("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return i("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=f})},{"./clipboard-action":3,"good-listener":12,"tiny-emitter":16}],5:[function(e,t,n){!function(e){function r(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}function o(e,t){const n=Object.prototype.toString.call(e),r="[object NodeList]"===n||"[object HTMLCollection]"===n||1===e.nodeType,o="function"==typeof t;return r||console.error("Countable: Not a valid target"),o||console.error("Countable: Not a valid callback function"),r&&o}function i(e,t){let n=""+("value"in e?e.value:e.textContent);(t=t||{}).stripTags&&(n=n.replace(/<\/?[a-z][^>]*>/gi,"")),t.ignore&&s.call(t.ignore,function(e){n=n.replace(e,"")});const o=n.trim();return{paragraphs:o?(o.match(t.hardReturns?/\n{2,}/g:/\n+/g)||[]).length+1:0,sentences:o?(o.match(/[.?!…]+./g)||[]).length+1:0,words:o?(o.replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||[]).length:0,characters:o?r(o.replace(/\s/g,"")).length:0,all:r(n).length}}let a=[];const s=Array.prototype.forEach,c={on:function(e,t,n){if(o(e,t))return void 0===e.length&&(e=[e]),s.call(e,function(e){const r=function(){t.call(e,i(e,n))};a.push({element:e,handler:r}),r(),e.addEventListener("input",r)}),this},off:function(e){if(o(e,function(){}))return void 0===e.length&&(e=[e]),a.filter(function(t){return-1!==e.indexOf(t.element)}).forEach(function(e){e.element.removeEventListener("input",e.handler)}),a=a.filter(function(t){return-1===e.indexOf(t.element)}),this},count:function(e,t,n){if(o(e,t))return void 0===e.length&&(e=[e]),s.call(e,function(e){t.call(e,i(e,n))}),this},enabled:function(e){return void 0===e.length&&(e=[e]),a.filter(function(t){return-1!==e.indexOf(t.element)}).length===e.length}};"object"==typeof n?t.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):e.Countable=c}(this)},{}],6:[function(e,t,n){var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=function(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],7:[function(e,t,n){function r(e,t,n,r,i){var a=function(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}var o=e("./closest");t.exports=function(e,t,n,o,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,o,i)}))}},{"./closest":6}],8:[function(e,t,n){"use strict";function r(e,t){var r,o,i=t.views;if("/"==e.charAt(0))r=n.resolveInclude(e.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(o=n.resolveInclude(e,t.filename),l.existsSync(o)&&(r=o)),r||Array.isArray(i)&&i.some(function(t){return o=n.resolveInclude(e,t,!0),l.existsSync(o)})&&(r=o),!r)throw new Error("Could not find include include file.");return r}function o(e,t){var r,o=e.filename,a=arguments.length>1;if(e.cache){if(!o)throw new Error("cache option requires a filename");if(r=n.cache.get(o))return r;a||(t=i(o).toString().replace(y,""))}else if(!a){if(!o)throw new Error("Internal EJS error: no file name or template provided");t=i(o).toString().replace(y,"")}return r=n.compile(t,e),e.cache&&n.cache.set(o,r),r}function i(e){return n.fileLoader(e)}function a(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),c=o(n),l=i.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+r+"\n"+l+"\n\n"+e.message,e}function s(e){return e.replace(/;(\s*$)/,"$1")}function c(e,t){t=t||{};var r={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=t.client||!1,r.escapeFunction=t.escape||f.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.delimiter=t.delimiter||n.delimiter||h,r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.localsName=t.localsName||n.localsName||m,r.views=t.views,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}var l=e("fs"),u=e("path"),f=e("./utils"),p=!1,d=e("../package.json").version,h="%",m="locals",g=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename"],v=g.concat("cache"),y=/^\uFEFF/;n.cache=f.cache,n.fileLoader=l.readFileSync,n.localsName=m,n.resolveInclude=function(e,t,n){var r=u.dirname,o=u.extname,i=(0,u.resolve)(n?t:r(t),e);return o(e)||(i+=".ejs"),i},n.compile=function(e,t){return t&&t.scope&&(p||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),p=!0),t.context||(t.context=t.scope),delete t.scope),new c(e,t).compile()},n.render=function(e,t,n){var r=t||{},i=n||{};return 2==arguments.length&&f.shallowCopyFromList(i,r,g),o(i,e)(r)},n.renderFile=function(){var e,t=arguments[0],n=arguments[arguments.length-1],r={filename:t};return arguments.length>2?(e=arguments[1],3===arguments.length?e.settings?(e.settings["view options"]&&f.shallowCopyFromList(r,e.settings["view options"],v),e.settings.views&&(r.views=e.settings.views)):f.shallowCopyFromList(r,e,v):f.shallowCopy(r,arguments[2]),r.filename=t):e={},function(e,t,n){var r;try{r=o(e)(t)}catch(e){return n(e)}return n(null,r)}(r,e,n)},n.clearCache=function(){n.cache.reset()},c.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},c.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=f.escapeRegExpChars(this.opts.delimiter);return e=e.replace(/%/g,t),new RegExp(e)},compile:function(){var e,t,n=this.opts,i="",s="",c=n.escapeFunction;this.source||(this.generateSource(),i+="  var __output = [], __append = __output.push.bind(__output);\n",!1!==n._with&&(i+="  with ("+n.localsName+" || {}) {\n",s+="  }\n"),s+='  return __output.join("");\n',this.source=i+this.source+s),e=n.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(n.filename?JSON.stringify(n.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,n.client&&(e="escapeFn = escapeFn || "+c.toString()+";\n"+e,n.compileDebug&&(e="rethrow = rethrow || "+a.toString()+";\n"+e)),n.strict&&(e='"use strict";\n'+e),n.debug&&console.log(e);try{t=new Function(n.localsName+", escapeFn, include, rethrow",e)}catch(e){throw e instanceof SyntaxError&&(n.filename&&(e.message+=" in "+n.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint"),e}if(n.client)return t.dependencies=this.dependencies,t;var l=function(e){return t.apply(n.context,[e||{},c,function(t,i){var a=f.shallowCopy({},e);return i&&(a=f.shallowCopy(a,i)),function(e,t){var n=f.shallowCopy({},t);return n.filename=r(e,n),o(n)}(t,n)(a)},a])};return l.dependencies=this.dependencies,l},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var e=this,t=this.parseTemplateText(),o=this.opts.delimiter;t&&t.length&&t.forEach(function(a,s){var l,u,p,d,h,m;if(0===a.indexOf("<"+o)&&0!==a.indexOf("<"+o+o)&&(u=t[s+2])!=o+">"&&u!="-"+o+">"&&u!="_"+o+">")throw new Error('Could not find matching close tag for "'+a+'".');if((p=a.match(/^\s*include\s+(\S+)/))&&(l=t[s-1])&&(l=="<"+o||l=="<"+o+"-"||l=="<"+o+"_"))return d=f.shallowCopy({},e.opts),h=function(e,t){var n,o,a=f.shallowCopy({},t);o=i(n=r(e,a)).toString().replace(y,""),a.filename=n;var s=new c(o,a);return s.generateSource(),{source:s.source,filename:n,template:o}}(p[1],d),m=e.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(h.template)+"\n      , __filename = "+JSON.stringify(h.filename)+";\n      try {\n"+h.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+h.source+"    ; }).call(this)\n",e.source+=m,void e.dependencies.push(n.resolveInclude(p[1],d.filename));e.scanLine(a)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,r=n.exec(t),o=[];r;)0!==(e=r.index)&&(o.push(t.substring(0,e)),t=t.slice(e)),o.push(r[0]),t=t.slice(r[0].length),r=n.exec(t);return t&&o.push(t),o},_addOutput:function(e){if(this.truncate?(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1):this.opts.rmWhitespace&&(e=e.replace(/^\n/,"")),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,n=0;switch(n=e.split("\n").length-1,e){case"<"+t:case"<"+t+"_":this.mode=c.modes.EVAL;break;case"<"+t+"=":this.mode=c.modes.ESCAPED;break;case"<"+t+"-":this.mode=c.modes.RAW;break;case"<"+t+"#":this.mode=c.modes.COMMENT;break;case"<"+t+t:this.mode=c.modes.LITERAL,this.source+='    ; __append("'+e.replace("<"+t+t,"<"+t)+'")\n';break;case t+t+">":this.mode=c.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+">",t+">")+'")\n';break;case t+">":case"-"+t+">":case"_"+t+">":this.mode==c.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case c.modes.EVAL:case c.modes.ESCAPED:case c.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case c.modes.EVAL:this.source+="    ; "+e+"\n";break;case c.modes.ESCAPED:this.source+="    ; __append(escapeFn("+s(e)+"))\n";break;case c.modes.RAW:this.source+="    ; __append("+s(e)+")\n";break;case c.modes.COMMENT:break;case c.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&n&&(this.currentLine+=n,this.source+="    ; __line = "+this.currentLine+"\n")}},n.escapeXML=f.escapeXML,n.__express=n.renderFile,e.extensions&&(e.extensions[".ejs"]=function(e,t){var r=t||e.filename,o={filename:r,client:!0},a=i(r).toString(),s=n.compile(a,o);e._compile("module.exports = "+s.toString()+";",r)}),n.VERSION=d,n.name="ejs","undefined"!=typeof window&&(window.ejs=n)},{"../package.json":10,"./utils":9,fs:2,path:13}],9:[function(e,t,n){"use strict";function r(e){return i[e]||e}var o=/[|\\{}()[\]^$+*?.]/g;n.escapeRegExpChars=function(e){return e?String(e).replace(o,"\\$&"):""};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},a=/[&<>\'"]/g;n.escapeXML=function(e){return void 0==e?"":String(e).replace(a,r)},n.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},n.shallowCopy=function(e,t){t=t||{};for(var n in t)e[n]=t[n];return e},n.shallowCopyFromList=function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];void 0!==t[o]&&(e[o]=t[o])}return e},n.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},reset:function(){this._data={}}}},{}],10:[function(e,t,n){t.exports={_args:[[{raw:"ejs",scope:null,escapedName:"ejs",name:"ejs",rawSpec:"",spec:"latest",type:"tag"},"C:\\Users\\mgtei\\Documents\\github\\ideaninja_dev"]],_from:"ejs@latest",_id:"ejs@2.5.7",_inCache:!0,_location:"/ejs",_nodeVersion:"6.9.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/ejs-2.5.7.tgz_1501385411193_0.3807816591579467"},_npmUser:{name:"mde",email:"mde@fleegix.org"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"ejs",scope:null,escapedName:"ejs",name:"ejs",rawSpec:"",spec:"latest",type:"tag"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/ejs/-/ejs-2.5.7.tgz",_shasum:"cc872c168880ae3c7189762fd5ffc00896c9518a",_shrinkwrap:null,_spec:"ejs",_where:"C:\\Users\\mgtei\\Documents\\github\\ideaninja_dev",author:{name:"Matthew Eernisse",email:"mde@fleegix.org",url:"http://fleegix.org"},bugs:{url:"https://github.com/mde/ejs/issues"},contributors:[{name:"Timothy Gu",email:"timothygu99@gmail.com",url:"https://timothygu.github.io"}],dependencies:{},description:"Embedded JavaScript templates",devDependencies:{browserify:"^13.0.1",eslint:"^3.0.0","git-directory-deploy":"^1.5.1",istanbul:"~0.4.3",jake:"^8.0.0",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^3.0.2","uglify-js":"^2.6.2"},directories:{},dist:{shasum:"cc872c168880ae3c7189762fd5ffc00896c9518a",tarball:"https://registry.npmjs.org/ejs/-/ejs-2.5.7.tgz"},engines:{node:">=0.10.0"},homepage:"https://github.com/mde/ejs",keywords:["template","engine","ejs"],license:"Apache-2.0",main:"./lib/ejs.js",maintainers:[{name:"mde",email:"mde@fleegix.org"}],name:"ejs",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/mde/ejs.git"},scripts:{coverage:"istanbul cover node_modules/mocha/bin/_mocha",devdoc:"jake doc[dev]",doc:"jake doc",lint:'eslint "**/*.js" Jakefile',test:"jake test"},version:"2.5.7"}},{}],11:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],12:[function(e,t,n){var r=e("./is"),o=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":11,delegate:7}],13:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===a(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var l=[];for(c=s;c<o.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("9FoBSB"))},{"9FoBSB":14}],14:[function(e,t,n){function r(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){n.shift()()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],15:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},{}],16:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){o.off(e,r),t.apply(n,arguments)}var o=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},t.exports=r},{}]},{},[1]);